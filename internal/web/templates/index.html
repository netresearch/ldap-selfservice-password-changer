<!doctype html>
<html lang="en" class="page-html">
  <head>
    <title>GopherPass â€” Self-service password change & reset</title>
    {{ template "html-head" }} {{ template "theme-init-script" }} {{ template "density-init-script" }}
    <link rel="modulepreload" href="/static/js/app.js" crossorigin="anonymous" />
  </head>

  <body class="page-body">
    <div class="page-card" data-density="comfortable">
      {{ template "page-header" }}

      <main role="main">
        {{ template "page-title" (slice "Change Your Password" "" "Password Change Form") }}

        <form class="space-y-4" id="form" aria-label="Password change form" autocomplete="on">
          <!-- prettier-ignore -->
          {{ template "input" InputOpts "username" "Username" "text" "username" "Enter your network username (e.g., firstname.lastname)" }}
          <!-- prettier-ignore -->
          {{ template "input" InputOpts "current_password" "Current Password" "password" "current-password" "Enter your current password to verify your identity" }}
          <!-- prettier-ignore -->
          {{ template "input" InputOpts "new_password" "New Password" "password" "new-password" "Your new password must be strong and meet all security requirements shown below when you start typing" }}
          <!-- prettier-ignore -->
          {{ template "input" InputOpts "confirm_password" "Confirm New Password" "password" "new-password" "Re-enter your new password to confirm" }}

          {{ template "form-submit" "Update Password" }}
        </form>

        {{ template "success-message" "Your password has been updated." }} {{ if .opts.PasswordResetEnabled }}
        <div class="comfortable:mt-6 compact:mt-4">
          {{ template "button-secondary" (slice "/forgot-password" "Forgot Password?") }}
        </div>
        {{ end }}
      </main>

      {{ template "page-footer" }} {{ template "toggle-buttons" }}
    </div>

    <!-- Configuration via data attributes for CSP compliance -->
    <script type="module" src="/static/js/app-init.js" defer
            data-min-length="{{ .opts.MinLength }}"
            data-min-numbers="{{ .opts.MinNumbers }}"
            data-min-symbols="{{ .opts.MinSymbols }}"
            data-min-uppercase="{{ .opts.MinUppercase }}"
            data-min-lowercase="{{ .opts.MinLowercase }}"
            data-password-can-include-username="{{ .opts.PasswordCanIncludeUsername }}">
    </script>
  </body>
</html>
