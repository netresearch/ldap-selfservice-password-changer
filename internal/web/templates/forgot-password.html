<!doctype html>
<html lang="en" class="page-html">
  <head>
    <title>Forgot Password â€” GopherPass</title>
    {{ template "html-head" }} {{ template "theme-init-script" }} {{ template "density-init-script" }}
    <link rel="modulepreload" href="/static/js/forgot-password.js" crossorigin="anonymous" />
  </head>

  <body class="page-body">
    <div class="page-card" data-density="comfortable">
      {{ template "page-header" }}

      <main role="main">
        {{ template "page-title" (slice "Forgot Password" "Enter your email address to receive a password reset link."
        "Password Reset Form") }}

        <form class="space-y-4" id="form" aria-label="Password reset form" autocomplete="on">
          <!-- Error summary for screen readers and focus management (WCAG 3.3.6) -->
          <div
            id="error-summary"
            class="hidden rounded-md border-2 border-error-dark bg-red-50 p-3 dark:border-error-light dark:bg-red-950/30"
            role="alert"
            aria-live="assertive"
            tabindex="-1"
          >
            <p class="flex items-center gap-2 text-sm font-semibold text-error-dark dark:text-error-light">
              {{ template "ErrorIcon" }}
              <span data-purpose="summaryText">Please correct the errors below</span>
            </p>
          </div>
          <!-- prettier-ignore -->
          {{ template "input" InputOpts "email" "Email Address" "text" "email" "Enter your email address to receive a password reset link" }}

          {{ template "form-submit" "Send Reset Link" }}
        </form>

        {{ template "success-message" "If an account exists with this email, a password reset link has been sent." }}

        <div class="comfortable:mt-6 compact:mt-4">{{ template "button-secondary" (slice "/" "Back to Login") }}</div>
      </main>

      {{ template "page-footer" }} {{ template "toggle-buttons" }}
    </div>

    <!-- External script for CSP compliance -->
    <script type="module" src="/static/js/forgot-password-init.js" defer></script>
  </body>
</html>
