{{ define "input" }}
<div
  id="{{ .Name }}"
  class="reveal-button:text-gray-700 dark:reveal-button:text-gray-300 reveal-eye:block reveal-eye-slash:hidden nonreveal-eye:hidden nonreveal-eye-slash:block relative space-y-[2px]"
  data-revealed="false"
>
  <div class="flex items-center gap-1">
    <label
      for="input-{{ .Name }}"
      class="comfortable:block compact:sr-only text-xs font-semibold text-gray-900 uppercase dark:text-gray-100"
    >
      {{ .Placeholder }}
    </label>
    {{ if .Help }}
    <div class="comfortable:contents compact:hidden">
      <button
        type="button"
        class="rounded-sm p-2.5 text-gray-500 outline-none hover:text-gray-700 focus:ring-2 focus:ring-gray-900 dark:text-gray-400 dark:hover:text-gray-300 dark:focus:ring-gray-300"
        data-purpose="help"
        aria-label="Help for {{ .Placeholder }}"
        aria-expanded="false"
        aria-controls="help-{{ .Name }}"
      >
        <!-- prettier-ignore -->
        {{ template "HelpIcon" }}
      </button>
    </div>
    {{ end }}
  </div>

  {{ if .Help }}
  <div
    id="help-{{ .Name }}"
    class="hidden rounded-md bg-gray-100 p-2 text-xs text-gray-700 dark:bg-gray-800 dark:text-gray-300"
    data-purpose="helpText"
    role="region"
    aria-live="polite"
  >
    {{ .Help }}
  </div>
  {{ end }}

  <div class="flex items-center gap-2">
    <div
      class="comfortable:h-10 compact:h-9 bg-opacity-0 input-focus:!border-gray-900 input-focus:ring-2 input-focus:ring-gray-900 dark:input-focus:!border-gray-100 dark:input-focus:ring-gray-100 error-input-focus:!border-red-900 error-input-focus:ring-2 error-input-focus:ring-red-900 dark:error-input-focus:!border-red-300 dark:error-input-focus:ring-red-300 comfortable:py-2 compact:py-1.5 flex flex-1 gap-2 rounded-md border-2 border-gray-300 bg-white pr-3 pl-3 transition-colors outline-none dark:border-gray-400 dark:bg-gray-800 [&:has(input[disabled])]:bg-gray-50 dark:[&:has(input[disabled])]:bg-gray-900"
      data-purpose="inputContainer"
    >
      <input
        id="input-{{ .Name }}"
        type="{{ .Type }}"
        name="{{ .Name }}"
        placeholder="{{ .Placeholder }}"
        autocomplete="{{ .Autocomplete }}"
        class="flex-1 bg-transparent text-gray-900 outline-none placeholder:text-gray-500 placeholder:select-none dark:text-gray-100 dark:placeholder:text-gray-400"
        aria-describedby="{{ if .Help }}help-{{ .Name }} {{ end }}errors-{{ .Name }}"
        aria-invalid="false"
      />
    </div>

    {{ if eq .Type "password" }}
    <button
      type="button"
      class="comfortable:h-10 comfortable:p-2 compact:h-9 compact:p-1.5 rounded-md border-2 border-gray-300 text-gray-600 outline-none hover:bg-gray-100 focus:ring-2 focus:ring-gray-900 focus:ring-offset-2 dark:border-gray-400 dark:text-gray-400 dark:hover:bg-gray-800 dark:focus:ring-gray-300 dark:focus:ring-offset-gray-900"
      data-purpose="reveal"
      aria-label="Show password"
      aria-pressed="false"
    >
      <!-- prettier-ignore -->
      {{ template "EyeSlashIcon" }}
      <!-- prettier-ignore -->
      {{ template "EyeIcon" }}
    </button>
    {{ end }}
  </div>
  <div
    id="errors-{{ .Name }}"
    class="text-xs text-red-700 dark:text-red-400"
    data-purpose="errors"
    role="alert"
    aria-live="polite"
  ></div>
</div>
{{ end }}
